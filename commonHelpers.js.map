{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// js/pixabay-api.js\n\nconst API_KEY = '43843961-af0153872675268c29353c689';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(searchQuery) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      throw new Error('Error fetching data');\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n      return data.hits;\n    });\n}\n","// js/render-functions.js\n\nexport function showLoader(loaderContainer) {\n  loaderContainer.style.display = 'flex';\n}\n\nexport function hideLoader(loaderContainer) {\n  loaderContainer.style.display = 'none';\n}\n\nexport function createMarkup(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n                <div class=\"photo-card\">\n                    <a href=\"${largeImageURL}\" target=\"_blank\">\n                        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" class=\"photo-card__image\" />\n                    </a>\n                    <div class=\"photo-card__info\">\n                        <p class=\"photo-card__info-item\"><b>Likes:</b> ${likes}</p>\n                        <p class=\"photo-card__info-item\"><b>Views:</b> ${views}</p>\n                        <p class=\"photo-card__info-item\"><b>Comments:</b> ${comments}</p>\n                        <p class=\"photo-card__info-item\"><b>Downloads:</b> ${downloads}</p>\n                    </div>\n                </div>\n            `\n    )\n    .join('');\n}\n\nexport function clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n}\n","// main.js\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport {\n  createMarkup,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport './css/styles.css';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const form = document.querySelector('#search-form');\n  const input = document.querySelector('#search-input');\n  const gallery = document.querySelector('.gallery');\n  const loaderContainer = document.querySelector('.loader-container');\n\n  // Приховуємо лоадер через секунду після завантаження сторінки\n  setTimeout(() => {\n    hideLoader(loaderContainer);\n  }, 1000);\n\n  form.addEventListener('submit', onSearch);\n\n  function onSearch(event) {\n    event.preventDefault();\n    const searchQuery = input.value.trim();\n\n    clearGallery();\n    showLoader(loaderContainer);\n\n    if (searchQuery === '') {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a search query!',\n      });\n      input.value = ''; // Очищення поля вводу форми при некоректному вводу\n      hideLoader(loaderContainer); // Приховуємо індикатор завантаження при некоректному вводу\n      return;\n    }\n\n    fetchImages(searchQuery)\n      .then(images => {\n        const markup = createMarkup(images);\n        gallery.insertAdjacentHTML('beforeend', markup);\n\n        // Оновлення SimpleLightbox після додавання нових зображень\n        const lightbox = new SimpleLightbox('.gallery a', {\n          captionsData: 'alt',\n          captionDelay: 250,\n        });\n        lightbox.refresh();\n\n        input.value = ''; // Очищення поля вводу форми після успішного пошуку\n      })\n      .catch(error => {\n        iziToast.error({\n          title: 'Error',\n          message: error.message,\n        });\n\n        input.value = ''; // Очищення поля вводу форми при помилці\n      })\n      .finally(() => hideLoader(loaderContainer));\n  }\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","searchQuery","url","response","data","showLoader","loaderContainer","hideLoader","createMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","gallery","form","input","onSearch","event","iziToast","markup","SimpleLightbox","error"],"mappings":"6vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAa,CACvC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAMG,CAAW,2DAEvD,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAIA,EAAS,GACX,OAAOA,EAAS,OAElB,MAAM,IAAI,MAAM,qBAAqB,CAC3C,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MACR,0EACV,EAEM,OAAOA,EAAK,IAClB,CAAK,CACL,CCrBO,SAASC,EAAWC,EAAiB,CAC1CA,EAAgB,MAAM,QAAU,MAClC,CAEO,SAASC,EAAWD,EAAiB,CAC1CA,EAAgB,MAAM,QAAU,MAClC,CAEO,SAASE,EAAaC,EAAQ,CACnC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,+BAEmBL,CAAa;AAAA,oCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,yEAGWC,CAAK;AAAA,yEACLC,CAAK;AAAA,4EACFC,CAAQ;AAAA,6EACPC,CAAS;AAAA;AAAA;AAAA,aAIjF,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,GAAe,CAC7B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,CC1BA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CF,EAAU,SAAS,cAAc,UAAU,EAC3CZ,EAAkB,SAAS,cAAc,mBAAmB,EAGlE,WAAW,IAAM,CACfC,EAAWD,CAAe,CAC3B,EAAE,GAAI,EAEPa,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMrB,EAAcmB,EAAM,MAAM,KAAI,EAKpC,GAHAH,IACAZ,EAAWC,CAAe,EAEtBL,IAAgB,GAAI,CACtBsB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACjB,CAAO,EACDH,EAAM,MAAQ,GACdb,EAAWD,CAAe,EAC1B,MACD,CAEDN,EAAYC,CAAW,EACpB,KAAKQ,GAAU,CACd,MAAMe,EAAShB,EAAaC,CAAM,EAClCS,EAAQ,mBAAmB,YAAaM,CAAM,EAG7B,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACxB,CAAS,EACQ,QAAO,EAEhBL,EAAM,MAAQ,EACtB,CAAO,EACA,MAAMM,GAAS,CACdH,EAAS,MAAM,CACb,MAAO,QACP,QAASG,EAAM,OACzB,CAAS,EAEDN,EAAM,MAAQ,EACtB,CAAO,EACA,QAAQ,IAAMb,EAAWD,CAAe,CAAC,CAC7C,CACH,CAAC"}